-- <|> Hello, fucker | Taxin2012 and PURP was here | Mysterious Zone Project | mzrp.ru <|>
local a=ix.plugin.list["inventory-module-aitems-list"]function ix.itemsList.detector_listregistration(b,c,d)local e=c:lower()local f=weapons.Get(e)if not f or not d then print("DON'T REG DETECTOR - "..e)return end ALWAYS_RAISED[e]=true local g=f.PrintName local h=d.name or(g or"#название")local i=d.description or(g or"#описание")local j=f.WorldModel or"models/props_junk/garbage_bag001a.mdl"b.weaponClass=e b.name=h b.description=i b.model=j b.slotIndex="slotDetector"b.skin=itemSkin b.weaponCategory="detectors"function b:ActionEquipment(k,l)local m=l:GetCharacter()local n=self.weaponClass if k then if self.Equip then self:Equip(l,false,false,m,n)end else if self.Unequip then self:Unequip(l,false,false,m,n)end end end function b:Equip(k,l,m,n,o)local p=n or k:GetCharacter()local q=o or self.weaponClass k.carryWeapons=k.carryWeapons or{}if k:HasWeapon(q)then k:StripWeapon(q)end local r=k:Give(q)if IsValid(r)then local s=r:GetPrimaryAmmoType()k.carryWeapons[self.weaponCategory]=r if not m then k:SelectWeapon(r:GetClass())end if(k:GetAmmoCount(s)==r:Clip1()and self:GetData("ammo",0)==0)then k:RemoveAmmo(r:Clip1(),s)end if(r:GetMaxClip1()==-1 and r:GetMaxClip2()==-1 and k:GetAmmoCount(s)==0)then k:SetAmmo(1,s)end self:SetData("equip",true)if(self.isGrenade)then r:SetClip1(1)k:SetAmmo(0,s)else r:SetClip1(self:GetData("ammo",0))end r.ixItem=self else print(Format("[Helix] Cannot equip weapon - %s does not exist!",q))end end function b:Unequip(k,l,m,n,o)local p=n or k:GetCharacter()local q=o or self.weaponClass k.carryWeapons=k.carryWeapons or{}local r=k.carryWeapons[self.weaponCategory]if not IsValid(r)then wepaon=k:GetWeapon(q)end if IsValid(r)then r.ixItem=nil self:SetData("ammo",r:Clip1())k:StripWeapon(q)else print(Format("[Helix] Cannot unequip weapon - %s does not exist!",q))end k.carryWeapons[self.weaponCategory]=nil self:SetData("equip",nil)if(m)then self:Remove()end end end if IX_PLUGINS_LOADED and ix.itemsList and ix.itemsList.CoreItemsRegistration then ix.itemsList.CoreItemsRegistration()end