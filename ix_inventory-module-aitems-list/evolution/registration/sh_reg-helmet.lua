-- <|> Hello, fucker | Taxin2012 and PURP was here | Mysterious Zone Project | mzrp.ru <|>
local a=ix.plugin.list["inventory-module-aitems-list"]local b=ix.plugin.list["inventory-module-night_vision"]function ix.itemsList.helmet_listregistration(c,d)local e=c.disabledEquip local f=c.name local g=string.format("Надеть %s",f)local h=string.format("Снять %s",f)c.hasDurability=true c.functions.Equip={name=g,icon="icon16/arrow_turn_left.png",OnRun=function(i)local j=i.player local k=j:GetCharacter()local l=k:GetEquipmentInventory()local m=l:GetID()i:Transfer(m,nil,nil,j)return false end,OnCanRun=function(i)local j=i.player local k=j:GetCharacter()local l,m,n=k:GetInventory(),k:GetEquipmentInventory()local o=l:GetID()local p=i:GetData("equipmentSlot")local q=i.entity return not IsValid(i.entity)and IsValid(j)and p==nil and o==i.invID and hook.Run("CanTransferItem",i,l,m)~=false end}c.functions.UnEquip={name=h,icon="icon16/arrow_turn_right.png",OnRun=function(i)local j=i.player local k=j:GetCharacter()local l=k:GetInventory()local m=l:GetID()i:Transfer(m,nil,nil,j)return false end,OnCanRun=function(i)local j=i.player local k=j:GetCharacter()local l,m=k:GetInventory(),k:GetEquipmentInventory()local n,o=l:GetID(),m:GetID()local p=i:GetData("equipmentSlot")return not IsValid(i.entity)and IsValid(j)and p~=nil and o==i.invID and hook.Run("CanTransferItem",i,m,l)~=false end}function c:OnEntityTakeDamage(i,j)return false end function c:ActionActors(i,j,k,l)local m=self.actorsBodyGroup local n={}if m then local o=j:GetBodyGroups()for p,q in next,o do for r,s in next,m do if q.name==r then if q.name=="body"and s~=4 then if string.find(j:GetModel(),"models/mz/loners/loners_sweater")then if i then s=1 else s=0 end else local t=j:GetBodygroup(q.id)if i then s=t+1 else s=t-1 end end j:SetBodygroup(q.id,s)n[q.id]=s else j:SetBodygroup(q.id,i and s or 0)n[q.id]=(i and s or 0)end end end end end k:SetData("groups",n)if self.actorsTier then a:UnEquipTier46(self,i,j,k,l)end end function c:ActionEquipment(i,j,k)local l,m=k:GetInventory(),k:GetEquipmentInventory()local n,o=l:GetID(),m:GetID()print("self.fastUnEquip",self.fastUnEquip)self:ActionActors(i,j,k,n)j:EmitSound("soundEquipArmor")j:SetupHands()if self.nightVision==true then local p=ix.plugin.list["inventory-module-night_vision"]if p and p.NightVisionToggle then p:NightVisionToggle(self,j,j:GetCharacter(),i)end end end end if IX_PLUGINS_LOADED and ix.itemsList and ix.itemsList.CoreItemsRegistration then ix.itemsList.CoreItemsRegistration()end