-- <|> Hello, fucker | Taxin2012 and PURP was here | Mysterious Zone Project | mzrp.ru <|>
local a=ix.plugin.list["inventory-module-aitems-list"]local function b(c)local d=c:GetOwner()or c.player if IsValid(d)then local e=d:GetCharacter()if e then local f,g=e:GetEquipmentInventory()if g==c.invID and c.ActionEquipment then c:ActionEquipment(false,d,e,true)end end end end function ix.itemsList.CoreItemsRegistration()local c=ix.itemsList.data hook.Run("InitializedItemsList",c)print(" ** items-list Registration")for d,e in next,c do if ix.itemsList[d.."_PreListregistration"]then ix.itemsList[d.."_PreListregistration"](d,e)end for f,g in next,e do if string.Left(f,1)=="_"then continue end f=f:lower()local h=ix.item.Register(f,nil,nil,nil,true)h.itemTypeMZ=d if h and h.functions and h.functions.use then h.functions.use=nil end if e["_slot"]==true then h.slotIndex="slot"..d:sub(1,1):upper()..d:sub(2)h:Hook("drop",function(j)b(j)if j.DropModify then j:DropModify()end end)h.OnRemoved=function(j)b(j)if j.OnRemovedModify then j:OnRemovedModify()end end end if e["_multiplySlots"]==true then h.multiplySlots=true end if e["_Loadout"]==true then h.noDeathDrop=true h.OnLoadout=function(j)local k=j.player if not IsValid(k)then return end local l=k:GetCharacter()if not l then return end local m,n=l:GetEquipmentInventory()if not m then return end local o=j.invID if o==n then j:ActionEquipment(true,k,l,true)local p=k:GetNetVar("extendedRender",{})local q=j.slotIndex p[q]={uid=j.uniqueID,skin=j:GetData("renderSkin")}k:SetNetVar("extendedRender",p)end end end if e["_Tooltip"]then h.Tooltip=e["_Tooltip"]end if h.category==nil or h.category=="misc"then h.category=d end if g.width==nil and g.itemIcon then g.width=(g.width or(g.itemIcon.width and g.itemIcon.width/50 or 1))g.height=(g.height or(g.itemIcon.height and g.itemIcon.height/50 or 1))end ix.util.MetatableSafeTableMerge(h,g)if ix.itemsList[d.."_listregistration"]then ix.itemsList[d.."_listregistration"](h,f,g)end if h.model==nil then h.model="models/props_junk/garbage_bag001a.mdl"end function h:GetMaterial(j)return self.material or nil end function h:OnEntityCreated(j)if self.color then j:SetColor(self.color)j:SetRenderMode(RENDERMODE_TRANSCOLOR)end end ix.item.list[f]=h local i=ix.item.instances for j,k in pairs(i)do if(k.uniqueID==f)then ix.util.MetatableSafeTableMerge(k,h)end end end if ix.itemsList[d.."_PostListregistration"]then ix.itemsList[d.."_PostListregistration"](d,e)end print(" * Registered "..d.." items")end print(" ** items-list Complete")hook.Run("PostInitializedItemsList")end if IX_PLUGINS_LOADED and ix.itemsList and ix.itemsList.CoreItemsRegistration then ix.itemsList.CoreItemsRegistration()end hook.Add("OnPostPluginsLoaded",a.uniqueID..":OnPostPluginsLoaded",function()if ix.itemsList and ix.itemsList.CoreItemsRegistration then ix.itemsList.CoreItemsRegistration()end end)