-- <|> Hello, fucker | Taxin2012 and PURP was here | Mysterious Zone Project | mzrp.ru <|>
local a=ix.plugin.list["capture-system-core"]net.Receive("captureSystemOpenAdminMenu",function()local b=LocalPlayer()if ix.captureSystem.HasAccess(b)==false then return end if not IsValid(ix.gui.captureSystemAdminMenu)then ix.gui.captureSystemAdminMenu=vgui.Create("captureSystem_AdminMenu")end ix.gui.captureSystemAdminMenu:SetCaptureList(net.ReadTable())ix.gui.captureSystemAdminMenu:InitCaptureList()end)net.Receive("captureSystemEditZone",function()local b=LocalPlayer()if ix.captureSystem.HasAccess(b)==false then return end if IsValid(ix.gui.captureSystemAdminMenu)then ix.gui.captureSystemAdminMenu:EditMenu(net.ReadString(),net.ReadTable())end end)net.Receive("captureSystemEditMode",function()local b=LocalPlayer()if ix.captureSystem.HasAccess(b)==false then return end b.captureSystemEditMode={uniqueID=net.ReadString(),typeEdit=net.ReadString(),data=net.ReadTable(),}if IsValid(ix.gui.captureSystemAdminMenu)then ix.gui.captureSystemAdminMenu:Remove()end end)net.Receive("captureSystemSync",function()local b=net.ReadUInt(32)local c=net.ReadData(b)local d=util.Decompress(c)if(!d)then ErrorNoHalt("[Helix] Unable to decompress area data!\n")return end local e=util.JSONToTable(d)for f,g in next,e do ix.captureSystem.stored[f]=g end end)net.Receive("captureSystemFactionMessage",function()local b=LocalPlayer()local c=net.ReadUInt(32)local d=net.ReadString()local e=string.Explode("\n",d)local f=net.ReadTable()b.captureMessage=b.captureMessage or{}b.captureMessage[#b.captureMessage+1]={delay=CurTime()+c,message=e,args=f,}PrintTable(b.captureMessage)end)net.Receive("captureSystemDeferredStartCapture",function()local b=LocalPlayer()local c=net.ReadString()local d=net.ReadString()local e=net.ReadUInt(32)ix.captureSystem.stored[c]["core"].deferredProgress=CurTime()+e end)net.Receive("captureSystemStartCapture",function()local b=LocalPlayer()local c=net.ReadString()local d=net.ReadString()local e=net.ReadUInt(32)local f=b:GetCharacter()if f then local g=f:GetFaction()ix.captureSystem.stored[c]["core"].captureProgress=CurTime()+e end if ix.captureSystem.stored[c]then ix.captureSystem.stored[c]["core"].isCaptureProgress=true end end)net.Receive("captureSystemSuccesfullCapture",function()local b=LocalPlayer()local c=net.ReadString()local d=net.ReadString()if ix.captureSystem.stored[c]then ix.captureSystem.stored[c]["core"].deferredProgress=0 ix.captureSystem.stored[c]["core"].isCaptureProgress=nil ix.captureSystem.stored[c]["core"].factionOwned=(d=="nil"and nil or d)end end)net.Receive("captureSystemEnabledObjectsESP",function()local b=LocalPlayer()local c=net.ReadTable()b._captureObjectsESPDelay=CurTime()+15 b._captureObjectsESP=c timer.Simple(15,function()if IsValid(b)then b._captureObjectsESP={}end end)end)net.Receive("captureSystemOpenStorage",function()local b=net.ReadEntity()if not IsValid(b)then return end if IsValid(ix.gui.captureStorage)then return end b.items=net.ReadTable()if not IsValid(ix.gui.captureStorage)then ix.gui.captureStorage=vgui.Create("captureStorageFrame")ix.gui.captureStorage:Setup(b)end end)net.Receive("captureSystemStorageClose",function()if IsValid(ix.gui.captureStorage)then ix.gui.captureStorage:Close(true)end end)