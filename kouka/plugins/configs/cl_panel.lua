-- <|> Hello, fucker | Taxin2012 and PURP was here | Mysterious Zone Project | mzrp.ru <|>
local a=KoukaPlugin a.hashMap=a.hashMap or{netTypes={[1]={type="bool",Read=net.ReadBool,Write=net.WriteBool},[3]={type="number",Read=function()return net.ReadUInt(32)end,Write=function(b)net.WriteUInt(b,32)end},[4]={type="string",Read=net.ReadString,Write=net.WriteString}}}a:Hook("Kouka.PluginsLoaded",function(b,c)kouka.CallPluginMethod("modular_menu","AddMenu","Configs",{Init=function(d)local e=d:Add("DListView")e:SetMultiSelect(false)e:Dock(FILL)e:AddColumn("PluginID")e:AddColumn("ConfigID")e:AddColumn("Value")e.DoDoubleClick=function(f,g,h)local i=a.hashMap.netTypes[h.valueType]Derma_StringRequest(string.format("Kouka | Config | %s | %s",h.pluginID,h.configID),string.format("Enter a new config value (%s)",i.type),h.currValue,function(j)if j==h.currValue then return end if h.valueType==3 or h.valueType==1 then j=tonumber(j)if j==nil then return end if h.valueType==1 and j~=0 and j~=1 then return end end net.Start("Kouka.Configs.Set")net.WriteString(h.pluginID)net.WriteString(h.configID)net.WriteUInt(h.valueType,3)i.Write(j)net.SendToServer()end)end d.dListView=e net.Start("Kouka.Configs.Get")net.SendToServer()end,OnUpdate=function(d,e)d.dListView:Clear()for f,g in next,e do for h,i in next,g do local j=d.dListView:AddLine(f,h,i.value)j.pluginID=f j.configID=h j.valueType=i.typeID j.defValue=tostring(i.defValue)j.currValue=tostring(i.value)end end end})end)net.Receive("Kouka.Configs.Get",function()local b={}kouka.utils.ReadList(function()local c=net.ReadString()b[c]={}kouka.utils.ReadList(function()local d=net.ReadString()b[c][d]={}local e=b[c][d]local f=net.ReadUInt(3)local g=a.hashMap.netTypes[f]e.defValue=g.Read()e.value=g.Read()e.typeID=f end,nil,true)end,nil,true)kouka.CallPluginMethod("modular_menu","UpdateMenu","Configs",b)end)