-- <|> Hello, fucker | Taxin2012 and PURP was here | Mysterious Zone Project | mzrp.ru <|>
local a=KoukaPlugin a.hashMap=a.hashMap or{code="",SetButton=function(b,c,d,e,f,g,h)b:SetSize(c,d)b:SetText(f)b:SetFont("Trebuchet24")b:SetColor(e or kouka.colors.white)b.customDLabel=h b.DoClick=g or a.hashMap.DefaultButtonFunc end,DefaultButtonFunc=function(b)local c=b.customDLabel local d=c:GetText().."*"local e=string.len(d)if e<7 then c:SetText(d)a.hashMap.code=a.hashMap.code..b:GetText()end if e==6 then local f,g=a.hashMap.temp,a.hashMap.code if(f~=nil and f~=g)then return c:SetColor(kouka.colors.red)end c:SetColor((((f==nil and c.isNewCode)or(f~=nil and f==g))and kouka.colors.green)or kouka.colors.orange)b:GetParent().customOkButton:SetEnabled(true)end end}a:Hook("Kouka.PluginsLoaded",function()kouka.CallPluginMethod("modular_menu","AddMenu","Protector",{Init=function(b)b:Dock(FILL)b:InvalidateParent(true)local c,d=b:GetParent(),b.strParam~="1"c.closeLabel:Remove()c:SetDraggable(false)if d then c:SetTitle(c:GetTitle().." | New Code")else local l=file.Read("kouka_protector.txt","DATA")if l~=nil then net.Start("Kouka.Protector")net.WriteBool(false)net.WriteString(l)net.SendToServer()end end local e=b:Add("DLabel")e:SetFont("DermaLarge")e:SetContentAlignment(5)e:SetTall(80)e:Dock(TOP)e:SetText("")e.isNewCode=d local f=b:Add("DIconLayout")f:Dock(FILL)f:SetSpaceX(5)f:SetSpaceY(5)f:InvalidateParent(true)local g,h=(f:GetWide()-10)/3,(f:GetTall()-15)/4 for l=1,9 do local m=f:Add("DButton")a.hashMap.SetButton(m,g,h,nil,l,nil,e)end local i=f:Add("DButton")local j=f:Add("DButton")a.hashMap.SetButton(j,g,h,nil,0,nil,e)local k=f:Add("DButton")a.hashMap.SetButton(k,g,h,kouka.colors.orange,"OK",function()local l,m=a.hashMap.temp,a.hashMap.code i:DoClick()if d and m~=""and l==nil then a.hashMap.temp=m else k:SetEnabled(false)net.Start("Kouka.Protector")net.WriteBool(true)net.WriteString(m)net.WriteBool(d)net.SendToServer()kouka.CallPluginMethod("modular_menu","CloseMenu","Protector")end end)k:SetEnabled(false)a.hashMap.SetButton(i,g,h,kouka.colors.orange,"CLEAR",function()a.hashMap.code=""a.hashMap.temp=nil e:SetText("")e:SetColor(kouka.colors.white)k:SetEnabled(false)end)f.customOkButton=k end})end)